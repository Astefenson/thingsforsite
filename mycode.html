<script src='https://cdn.rawgit.com/521dimensions/amplitudejs/master/dist/amplitude.js'></script>
<script id="rendered-js">
Amplitude.init({
    "bindings": {
      37: 'prev',
      39: 'next',
      32: 'play_pause'
     
    },
    "songs": [
      {
        "name": "name",
        "artist": "artist",
        "album": "album",
        "url": "https://www.dropbox.com/s/6byg07gusb5gqc0/Alina%20Engibaryan%20-%20We%20Are_There%20Is%20A%20Place.mp3?raw=1",
        "cover_art_url": "https://521dimensions.com/img/open-source/amplitudejs/album-art/soon-it-will-be-cold-enough.jpg"
      }
    ]
  });
  
var songsToAdd = [
  {
    "name": "We Are",
    "artist": "Alina Engibaryan",
    "album": "We Are",
    "url": "TBD",
    "cover_art_url": "https://uploads-ssl.webflow.com/5f9c66ac9e2a05116012d682/5fb2f3803a1fbb82e230b697_Alina%20Engibaryan%20-%20We%20Are_Album%20Art.jpg"
  },
  {
    "name": "There Is A Place",
    "artist": "Alina Engibaryan",
    "album": "We Are",
    "url": "https://www.dropbox.com/s/6byg07gusb5gqc0/Alina%20Engibaryan%20-%20We%20Are_There%20Is%20A%20Place.mp3?raw=1",
    "cover_art_url": "https://uploads-ssl.webflow.com/5f9c66ac9e2a05116012d682/5fb2f3803a1fbb82e230b697_Alina%20Engibaryan%20-%20We%20Are_Album%20Art.jpg"
  },
  {
    "name": "The New You",
    "artist": "Alina Engibaryan",
    "album": "We Are",
    "url": "https://www.dropbox.com/s/6byg07gusb5gqc0/Alina%20Engibaryan%20-%20We%20Are_There%20Is%20A%20Place.mp3?raw=1",
    "cover_art_url": "https://uploads-ssl.webflow.com/5f9c66ac9e2a05116012d682/5fb2f3803a1fbb82e230b697_Alina%20Engibaryan%20-%20We%20Are_Album%20Art.jpg"
  },
  {
    "name": "Pulse Of The Day",
    "artist": "Alina Engibaryan",
    "album": "We Are",
    "url": "https://521dimensions.com/songs/Offcut6-LittlePeople.mp3",
    "cover_art_url": "https://521dimensions.com/img/open-source/amplitudejs/album-art/we-are-but-hunks-of-wood.jpg"
  },
  {
    "name": "Lullaby",
    "artist": "Alina Engibaryan",
    "album": "We Are",
    "url": "https://521dimensions.com/songs/DuskToDawn-Emancipator.mp3",
    "cover_art_url": "https://521dimensions.com/img/open-source/amplitudejs/album-art/from-dusk-to-dawn.jpg"
  },
  {
    "name": "Love Song",
    "artist": "Alina Engibaryan",
    "album": "We Are",
    "url": "https://521dimensions.com/songs/Anthem-Emancipator.mp3",
    "cover_art_url": "https://521dimensions.com/img/open-source/amplitudejs/album-art/soon-it-will-be-cold-enough.jpg"
  },
  {
    "name": "Little Girl",
    "artist": "Alina Engibaryan",
    "album": "We Are",
    "url": "https://521dimensions.com/songs/Vorel-RussianCircles.mp3",
    "cover_art_url": "https://uploads-ssl.webflow.com/5f9c66ac9e2a05116012d682/5fb2f3803a1fbb82e230b697_Alina%20Engibaryan%20-%20We%20Are_Album%20Art.jpg"
  },
  {
    "name": "I'll Be Around",
    "artist": "Alina Engibaryan",
    "album": "We Are",
    "url": "https://www.dropbox.com/s/6byg07gusb5gqc0/Alina%20Engibaryan%20-%20We%20Are_There%20Is%20A%20Place.mp3?raw=1",
    "cover_art_url": "https://uploads-ssl.webflow.com/5f9c66ac9e2a05116012d682/5fb2f3803a1fbb82e230b697_Alina%20Engibaryan%20-%20We%20Are_Album%20Art.jpg"
  },
  {
    "name": "Doesn't Seem So Real",
    "artist": "Alina Engibaryan",
    "album": "We Are",
    "url": "https://www.dropbox.com/s/6byg07gusb5gqc0/Alina%20Engibaryan%20-%20We%20Are_There%20Is%20A%20Place.mp3?raw=1",
    "cover_art_url": "https://uploads-ssl.webflow.com/5f9c66ac9e2a05116012d682/5fb2f3803a1fbb82e230b697_Alina%20Engibaryan%20-%20We%20Are_Album%20Art.jpg"
  },
  {
    "name": "Venin",
    "artist": "Banda Magda",
    "album": "Tigre",
    "url": "https://521dimensions.com/songs/Offcut6-LittlePeople.mp3",
    "cover_art_url": "https://521dimensions.com/img/open-source/amplitudejs/album-art/we-are-but-hunks-of-wood.jpg"
  },
  {
    "name": "Vem Morena",
    "artist": "Banda Magda",
    "album": "Tigre",
    "url": "https://521dimensions.com/songs/DuskToDawn-Emancipator.mp3",
    "cover_art_url": "https://521dimensions.com/img/open-source/amplitudejs/album-art/from-dusk-to-dawn.jpg"
  },
  {
    "name": "Thaimandi",
    "artist": "Banda Magda",
    "album": "Tigre",
    "url": "https://521dimensions.com/songs/Anthem-Emancipator.mp3",
    "cover_art_url": "https://521dimensions.com/img/open-source/amplitudejs/album-art/soon-it-will-be-cold-enough.jpg"
  },  
  {
    "name": "Tam Tam",
    "artist": "Banda Magda",
    "album": "Tigre",
    "url": "https://521dimensions.com/songs/Vorel-RussianCircles.mp3",
    "cover_art_url": "https://uploads-ssl.webflow.com/5f9c66ac9e2a05116012d682/5fb2f3803a1fbb82e230b697_Alina%20Engibaryan%20-%20We%20Are_Album%20Art.jpg"
  },
  {
    "name": "Reine des Bois",
    "artist": "Banda Magda",
    "album": "Tigre",
    "url": "https://www.dropbox.com/s/6byg07gusb5gqc0/Alina%20Engibaryan%20-%20We%20Are_There%20Is%20A%20Place.mp3?raw=1",
    "cover_art_url": "https://uploads-ssl.webflow.com/5f9c66ac9e2a05116012d682/5fb2f3803a1fbb82e230b697_Alina%20Engibaryan%20-%20We%20Are_Album%20Art.jpg"
  }  
];
  
  
  /*

  Gets all of the add to playlist buttons so we can
  add some event listeners to actually add to playlist.
*/
var addToPlaylistButtons = document.getElementsByClassName('add-to-playlist-button');

for( var i = 0; i < addToPlaylistButtons.length; i++ ){
  /*
    Add an event listener to the add to playlist button.
  */
  addToPlaylistButtons[i].addEventListener('click', function(){
    var songToAddIndex = this.getAttribute('song-to-add');

    /*
      Adds the song to Amplitude, appends the song to the display,
      then rebinds all of the AmplitudeJS elements.
    */
    var newIndex = Amplitude.addSong( songsToAdd[ songToAddIndex ] );
    appendToSongDisplay( songsToAdd[ songToAddIndex ], newIndex );
    Amplitude.bindNewElements();

    /*
      Removes the container that contained the add to playlist button.
    */
    var songToAddRemove = document.querySelector('.song-to-add[song-to-add="'+songToAddIndex+'"]');
    songToAddRemove.parentNode.removeChild( songToAddRemove );
  
 
  document.getElementByNameClass('example-container').style.display = "block";
  });
}

/*
  Appends the song to the display.
*/
function appendToSongDisplay( song, index ){
  /*
    Grabs the playlist element we will be appending to.
  */
  var playlistElement = document.querySelector('.white-player-playlist');

  /*
    Creates the playlist song element
  */
  var playlistSong = document.createElement('div');
  playlistSong.setAttribute('class', 'white-player-playlist-song amplitude-song-container amplitude-play-pause');
  playlistSong.setAttribute('data-amplitude-song-index', index);

  /*
    Creates the playlist song image element
  */
  var playlistSongImg = document.createElement('img');
  playlistSongImg.setAttribute('src', song.cover_art_url);

  /*
    Creates the playlist song meta element
  */
  var playlistSongMeta = document.createElement('div');
  playlistSongMeta.setAttribute('class', 'playlist-song-meta');

  /*
    Creates the playlist song name element
  */
  var playlistSongName = document.createElement('span');
  playlistSongName.setAttribute('class', 'playlist-song-name');
  playlistSongName.innerHTML = song.name;

  /*
    Creates the playlist song artist album element
  */
  var playlistSongArtistAlbum = document.createElement('span');
  playlistSongArtistAlbum.setAttribute('class', 'playlist-song-artist');
  playlistSongArtistAlbum.innerHTML = song.artist+' &bull; '+song.album;

  /*
    Appends the name and artist album to the playlist song meta.
  */
  playlistSongMeta.appendChild( playlistSongName );
  playlistSongMeta.appendChild( playlistSongArtistAlbum );

  /*
    Appends the song image and meta to the song element
  */
  playlistSong.appendChild( playlistSongImg );
  playlistSong.appendChild( playlistSongMeta );

  /*
    Appends the song element to the playlist
  */
  playlistElement.appendChild( playlistSong );
}


</script>
